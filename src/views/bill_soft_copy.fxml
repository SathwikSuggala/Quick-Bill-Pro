<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="controllers.BillSoftCopyController"
            style="-fx-background-color: white;" fx:id="billRootPane">

    <top>
        <VBox alignment="CENTER" spacing="10">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            <Text text="TAX INVOICE" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
            <Text text="LEELA SAI AGENCIES" style="-fx-font-size: 20px; -fx-font-weight: bold;"/>
            <Text text="Near B.N.R. Building, Kathepu Veedhi Centre, ELURU-1" style="-fx-font-size: 14px;"/>
            <Text text="GSTIN : 37DVGPS9830G1Z0" style="-fx-font-size: 14px;"/>
        </VBox>
    </top>

    <center>
        <VBox fx:id="billContentVBox" spacing="15" VBox.vgrow="ALWAYS">
            <padding>
                <Insets top="10" right="20" bottom="10" left="20"/>
            </padding>

            <!-- Bill Details -->
            <GridPane hgap="10" vgap="5">
                <columnConstraints>
                    <ColumnConstraints prefWidth="120"/>
                    <ColumnConstraints hgrow="ALWAYS"/>
                    <ColumnConstraints prefWidth="100"/>
                    <ColumnConstraints hgrow="ALWAYS"/>
                </columnConstraints>
                <Label text="Bill No.:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                <Text fx:id="billNoText" text="" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                <Label text="Bill Date:" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                <Text fx:id="billDateText" text="" GridPane.columnIndex="3" GridPane.rowIndex="0"/>

                <Label text="Details of Receiver:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                <Text fx:id="receiverNameText" text="" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                <Label text="State: AP, State Code: 37" GridPane.columnIndex="2" GridPane.rowIndex="1" GridPane.columnSpan="2"/>

                <Label text="Address:" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                <Text fx:id="receiverAddressText" text="" GridPane.columnIndex="1" GridPane.rowIndex="2" GridPane.columnSpan="3"/>
            </GridPane>

            <!-- Bill Items Table -->
            <TableView fx:id="billItemsTable" prefHeight="250">
                <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/></columnResizePolicy>
                <columns>
                    <TableColumn text="S.No." prefWidth="50" />
                    <TableColumn fx:id="descriptionColumn" text="Description of Goods" prefWidth="200"/>
                    <TableColumn fx:id="qtyColumn" text="Qty." prefWidth="70"/>
                    <TableColumn fx:id="basicRateColumn" text="Basic Rate" prefWidth="80"/>
                    <TableColumn fx:id="taxableAmountColumn" text="Taxable Amount" prefWidth="100"/>
                    <TableColumn text="CGST" prefWidth="150">
                        <columns>
                            <TableColumn fx:id="cgstPercentageColumn" text="cgst" prefWidth="75"/>
                            <TableColumn fx:id="cgstValueColumn" text="Value" prefWidth="75"/>
                        </columns>
                    </TableColumn>
                    <TableColumn text="SGST" prefWidth="150">
                        <columns>
                            <TableColumn fx:id="sgstPercentageColumn" text="sgst" prefWidth="75"/>
                            <TableColumn fx:id="sgstValueColumn" text="Value" prefWidth="75"/>
                        </columns>
                    </TableColumn>
                    <TableColumn fx:id="itemTotalAmountColumn" text="Total Amount" prefWidth="100"/>
                </columns>
            </TableView>

            <!-- Totals and Signature -->
            <GridPane hgap="10" vgap="5" alignment="BOTTOM_RIGHT">
                <columnConstraints>
                    <ColumnConstraints hgrow="ALWAYS"/>
                    <ColumnConstraints prefWidth="100"/>
                    <ColumnConstraints prefWidth="100"/>
                </columnConstraints>

                <Label text="Sub Total:" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                <Text fx:id="subTotalText" text="" GridPane.columnIndex="2" GridPane.rowIndex="0"/>

                <Label text="Total CGST:" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                <Text fx:id="totalCGSTText" text="" GridPane.columnIndex="2" GridPane.rowIndex="1"/>

                <Label text="Total SGST:" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                <Text fx:id="totalSGSTText" text="" GridPane.columnIndex="2" GridPane.rowIndex="2"/>

                <Label text="Grand Total:" GridPane.columnIndex="1" GridPane.rowIndex="3" style="-fx-font-weight: bold;"/>
                <Text fx:id="grandTotalText" text="" GridPane.columnIndex="2" GridPane.rowIndex="3" style="-fx-font-weight: bold;"/>
            </GridPane>

            <HBox alignment="BOTTOM_RIGHT" spacing="20">
                <Text text="Buyer's Signature"/>
                <Text text="Signature"/>
            </HBox>
        </VBox>
    </center>

    <bottom>
        <HBox alignment="CENTER" spacing="20">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            <Button fx:id="printButton" text="Print Bill" onAction="#onPrintButtonClicked"
                    style="-fx-background-color: #007bff; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10 20;"/>
        </HBox>
    </bottom>

</BorderPane>
